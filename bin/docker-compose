#!/bin/bash
set -eu -o pipefail

if [[ -t 0 && -t 1 ]]; then
  OPTIONS='-it'
else
  OPTIONS='-i'
fi
readonly OPTIONS

podman run --rm \
  $OPTIONS \
  -v /run/user/"$(id -u)"/podman/podman.sock:/var/run/docker.sock:z \
  -v "$PWD:/$PWD:z" \
  -w "/$PWD" \
  ghcr.io/linuxserver/docker-compose:latest "$@"
